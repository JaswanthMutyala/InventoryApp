{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/inventory-app/app/transactions/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function TransactionsPage() {\r\n    const router = useRouter();\r\n    const [transactions, setTransactions] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n    const [outstanding, setOutstanding] = useState([]);\r\n    const [user, setUser] = useState(null);\r\n    const [transactionType, setTransactionType] = useState('CHECKOUT');\r\n    const [bulkItems, setBulkItems] = useState([]);\r\n    const [currentProduct, setCurrentProduct] = useState('');\r\n    const [currentQuantity, setCurrentQuantity] = useState(1);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [imagePreview, setImagePreview] = useState('');\r\n\r\n    useEffect(() => {\r\n        const storedUser = localStorage.getItem('user');\r\n        if (!storedUser) {\r\n            router.push('/login');\r\n        } else {\r\n            setUser(JSON.parse(storedUser));\r\n            fetchData();\r\n        }\r\n    }, [router]);\r\n\r\n    const fetchData = async () => {\r\n        const [transRes, prodRes] = await Promise.all([\r\n            fetch('/api/transactions'),\r\n            fetch('/api/products')\r\n        ]);\r\n        setTransactions(await transRes.json());\r\n        setProducts(await prodRes.json());\r\n        \r\n        // Fetch outstanding quantities for the current user\r\n        const storedUser = localStorage.getItem('user');\r\n        if (storedUser) {\r\n            const userData = JSON.parse(storedUser);\r\n            const outstandingRes = await fetch(`/api/transactions/outstanding?user_id=${userData.id}`);\r\n            setOutstanding(await outstandingRes.json());\r\n        }\r\n    };\r\n\r\n    const getMaxReturnQuantity = (productId) => {\r\n        const outstandingItem = outstanding.find(item => item.product_id === parseInt(productId));\r\n        return outstandingItem?.outstanding || 0;\r\n    };\r\n\r\n    const addBulkItem = () => {\r\n        if (!currentProduct) {\r\n            setError('Please select a product');\r\n            return;\r\n        }\r\n\r\n        const productId = parseInt(currentProduct);\r\n        const product = products.find(p => p.id === productId);\r\n\r\n        if (!product) {\r\n            setError('Selected product is invalid');\r\n            return;\r\n        }\r\n        \r\n        // Check if product already in bulk items\r\n        const existingIndex = bulkItems.findIndex(item => item.product_id === productId);\r\n        const existingQty = existingIndex >= 0 ? bulkItems[existingIndex].quantity : 0;\r\n        const requestedTotal = existingQty + currentQuantity;\r\n\r\n        if (transactionType === 'CHECKOUT') {\r\n            // Cannot take more than available stock\r\n            if (requestedTotal > product.quantity) {\r\n                setError(`Cannot take ${requestedTotal} units. Only ${product.quantity} unit(s) available for ${product.name}.`);\r\n                return;\r\n            }\r\n        } else if (transactionType === 'CHECKIN') {\r\n            const maxQty = getMaxReturnQuantity(productId);\r\n            if (requestedTotal > maxQty) {\r\n                setError(`Cannot return ${requestedTotal} units. You only have ${maxQty} unit(s) outstanding for ${product.name}.`);\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (existingIndex >= 0) {\r\n            // Update quantity if product already exists\r\n            const newBulkItems = [...bulkItems];\r\n            newBulkItems[existingIndex].quantity = requestedTotal;\r\n            setBulkItems(newBulkItems);\r\n        } else {\r\n            // Add new item\r\n            setBulkItems([\r\n                ...bulkItems,\r\n                { product_id: productId, product_name: product.name, product_image: product.image_url, quantity: currentQuantity },\r\n            ]);\r\n        }\r\n\r\n        setCurrentProduct('');\r\n        setCurrentQuantity(1);\r\n        setError('');\r\n    };\r\n\r\n    const removeBulkItem = (productId) => {\r\n        setBulkItems(bulkItems.filter(item => item.product_id !== productId));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setSuccess('');\r\n\r\n        if (bulkItems.length === 0) {\r\n            setError('Please add at least one item');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Submit all items in bulk\r\n            const promises = bulkItems.map(item =>\r\n                fetch('/api/transactions', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        user_id: user.id,\r\n                        product_id: item.product_id,\r\n                        quantity: item.quantity,\r\n                        type: transactionType,\r\n                    }),\r\n                })\r\n            );\r\n\r\n            const results = await Promise.all(promises);\r\n            \r\n            // Check if all succeeded\r\n            const allSuccess = results.every(res => res.ok);\r\n            \r\n            if (allSuccess) {\r\n                setSuccess(`Successfully ${transactionType === 'CHECKOUT' ? 'took' : 'returned'} ${bulkItems.length} product(s)!`);\r\n                setBulkItems([]);\r\n                fetchData();\r\n                setTimeout(() => setSuccess(''), 1500);\r\n            } else {\r\n                setError('Some transactions failed. Please try again.');\r\n            }\r\n        } catch (err) {\r\n            setError(err.message || 'Transaction failed');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"section-title\">Transactions</h1>\r\n\r\n            <div className=\"card mb-6\">\r\n                <h2 className=\"text-lg font-semibold mb-4\">New Transaction</h2>\r\n                {error && (\r\n                    <div style={{\r\n                        backgroundColor: '#fee2e2',\r\n                        border: '2px solid #ef4444',\r\n                        borderRadius: 'var(--radius)',\r\n                        padding: '1rem',\r\n                        marginBottom: '1.5rem',\r\n                        display: 'flex',\r\n                        alignItems: 'flex-start',\r\n                        gap: '0.75rem'\r\n                    }}>\r\n                        \r\n                        <div>\r\n                            <p style={{ \r\n                                color: '#991b1b', \r\n                                fontWeight: 600, \r\n                                marginBottom: '0.25rem' \r\n                            }}>\r\n                                Transaction Failed\r\n                            </p>\r\n                            <p style={{ \r\n                                color: '#dc2626', \r\n                                fontSize: '0.875rem',\r\n                                lineHeight: 1.5\r\n                            }}>\r\n                                {error}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                \r\n                {success && (\r\n                    <div style={{\r\n                        backgroundColor: '#dcfce7',\r\n                        border: '2px solid #22c55e',\r\n                        borderRadius: 'var(--radius)',\r\n                        padding: '1rem',\r\n                        marginBottom: '1.5rem',\r\n                        display: 'flex',\r\n                        alignItems: 'flex-start',\r\n                        gap: '0.75rem'\r\n                    }}>\r\n                        <span style={{ fontSize: '1.25rem', lineHeight: 1 }}>âœ…</span>\r\n                        <p style={{ \r\n                            color: '#15803d', \r\n                            fontWeight: 600,\r\n                            fontSize: '0.95rem'\r\n                        }}>\r\n                            {success}\r\n                        </p>\r\n                    </div>\r\n                )}\r\n                <div style={{ marginBottom: '1.5rem' }}>\r\n                    <h3 style={{ fontSize: '0.95rem', fontWeight: 600, marginBottom: '1rem', color: '#1e293b' }}>Transaction Type</h3>\r\n                    <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\r\n                            <input\r\n                                type=\"radio\"\r\n                                value=\"CHECKOUT\"\r\n                                checked={transactionType === 'CHECKOUT'}\r\n                                onChange={e => setTransactionType(e.target.value)}\r\n                                style={{ cursor: 'pointer' }}\r\n                            />\r\n                            <span>Take Products</span>\r\n                        </label>\r\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\r\n                            <input\r\n                                type=\"radio\"\r\n                                value=\"CHECKIN\"\r\n                                checked={transactionType === 'CHECKIN'}\r\n                                onChange={e => setTransactionType(e.target.value)}\r\n                                style={{ cursor: 'pointer' }}\r\n                            />\r\n                            <span>Return Products</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 100px', gap: '0.75rem', marginBottom: '1rem', alignItems: 'flex-end' }}>\r\n                    <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n                        <label htmlFor=\"product\" style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.875rem', fontWeight: 500 }}>Product</label>\r\n                        <select\r\n                            id=\"product\"\r\n                            className=\"input\"\r\n                            value={currentProduct}\r\n                            onChange={e => setCurrentProduct(e.target.value)}\r\n                            style={{ fontSize: '0.875rem', padding: '0.5rem 0.75rem', width: '100%' }}\r\n                        >\r\n                            <option value=\"\">Select...</option>\r\n                            {transactionType === 'CHECKOUT' \r\n                                ? products.map(p => (\r\n                                    <option key={p.id} value={String(p.id)}>\r\n                                        {p.name} (Available: {p.quantity})\r\n                                    </option>\r\n                                ))\r\n                                : (outstanding && outstanding.length > 0)\r\n                                    ? outstanding.map(o => {\r\n                                        const product = products.find(p => p.id === o.product_id);\r\n                                        if (!product) return null;\r\n                                        return (\r\n                                            <option key={o.product_id} value={String(o.product_id)}>\r\n                                                {product.name} (Outstanding: {o.outstanding})\r\n                                            </option>\r\n                                        );\r\n                                    })\r\n                                    : <option disabled>No items to return</option>\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n                        <label htmlFor=\"quantity\" style={{ display: 'block', marginBottom: '0.35rem', fontSize: '0.875rem', fontWeight: 500 }}>\r\n                            Quantity\r\n                            {transactionType === 'CHECKIN' && currentProduct && (\r\n                                <span style={{ fontSize: '0.75rem', color: '#64748b', marginLeft: '0.5rem' }}>(Max: {getMaxReturnQuantity(currentProduct)})</span>\r\n                            )}\r\n                        </label>\r\n                        <input\r\n                            id=\"quantity\"\r\n                            type=\"number\"\r\n                            className=\"input\"\r\n                            min=\"1\"\r\n                            max={transactionType === 'CHECKIN' && currentProduct ? getMaxReturnQuantity(currentProduct) : undefined}\r\n                            value={currentQuantity}\r\n                            onChange={e => setCurrentQuantity(Math.max(1, parseInt(e.target.value) || 1))}\r\n                            style={{ fontSize: '0.875rem', padding: '0.5rem 0.75rem', width: '100%' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={addBulkItem}\r\n                        className=\"btn btn-primary\"\r\n                        style={{ padding: '0.5rem 1rem', fontSize: '0.875rem' }}\r\n                    >\r\n                        Add Item\r\n                    </button>\r\n                </div>\r\n\r\n                {transactionType === 'CHECKIN' && outstanding && outstanding.length > 0 && (\r\n                    <div style={{ marginBottom: '1.5rem', backgroundColor: '#eff6ff', border: '1px solid #93c5fd', borderRadius: 'var(--radius)', padding: '1rem' }}>\r\n                        <h3 style={{ fontSize: '0.95rem', fontWeight: 600, marginBottom: '0.75rem', color: '#1e40af' }}>ðŸ“‹ Products You Previously Took</h3>\r\n                        <div className=\"grid gap-2\">\r\n                            {outstanding.map(item => {\r\n                                const product = products.find(p => p.id === item.product_id);\r\n                                if (!product) return null;\r\n                                const alreadyInReturn = bulkItems.find(b => b.product_id === item.product_id);\r\n                                return (\r\n                                    <div key={item.product_id} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '0.75rem', backgroundColor: '#ffffff', border: '1px solid #bfdbfe', borderRadius: '0.375rem' }}>\r\n                                        <div>\r\n                                            <span style={{ fontWeight: 600, color: '#1e293b' }}>{product.name}</span>\r\n                                            <span style={{ color: '#64748b', marginLeft: '0.75rem', fontSize: '0.875rem' }}>Outstanding: <span style={{ fontWeight: 600, color: '#2563eb' }}>{item.outstanding}</span></span>\r\n                                        </div>\r\n                                        {!alreadyInReturn ? (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => {\r\n                                                    const productId = item.product_id;\r\n                                                    const product = products.find(p => p.id === productId);\r\n                                                    const existingIndex = bulkItems.findIndex(b => b.product_id === productId);\r\n                                                    const existingQty = existingIndex >= 0 ? bulkItems[existingIndex].quantity : 0;\r\n                                                    const requestedTotal = existingQty + 1;\r\n                                                    const maxQty = item.outstanding;\r\n\r\n                                                    if (requestedTotal > maxQty) {\r\n                                                        setError(`Cannot return ${requestedTotal} units. You only have ${maxQty} unit(s) outstanding for ${product.name}.`);\r\n                                                        return;\r\n                                                    }\r\n\r\n                                                    if (existingIndex >= 0) {\r\n                                                        // Update quantity if already exists\r\n                                                        const newBulkItems = [...bulkItems];\r\n                                                        newBulkItems[existingIndex].quantity = requestedTotal;\r\n                                                        setBulkItems(newBulkItems);\r\n                                                    } else {\r\n                                                        // Add new item with quantity 1\r\n                                                        setBulkItems([\r\n                                                            ...bulkItems,\r\n                                                            { product_id: productId, product_name: product.name, product_image: product.image_url, quantity: 1 },\r\n                                                        ]);\r\n                                                    }\r\n                                                    setError('');\r\n                                                }}\r\n                                                className=\"btn\"\r\n                                                style={{ backgroundColor: '#dbeafe', color: '#1e40af', border: 'none', fontSize: '0.75rem', padding: '0.35rem 0.75rem' }}\r\n                                            >\r\n                                                Quick Add\r\n                                            </button>\r\n                                        ) : (\r\n                                            <span style={{ fontSize: '0.75rem', color: '#059669', fontWeight: 600 }}>âœ… Added</span>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {bulkItems.length > 0 && (\r\n                    <div style={{ marginBottom: '1.5rem', backgroundColor: '#f8fafc', border: '1px solid #e2e8f0', borderRadius: 'var(--radius)', padding: '1rem' }}>\r\n                        <h3 style={{ fontSize: '0.95rem', fontWeight: 600, marginBottom: '1rem', color: '#1e293b' }}>Items to {transactionType === 'CHECKOUT' ? 'Take' : 'Return'} ({bulkItems.length})</h3>\r\n                        <div className=\"grid gap-2\">\r\n                            {bulkItems.map(item => (\r\n                                <div key={item.product_id} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '0.75rem', backgroundColor: '#ffffff', border: '1px solid #e2e8f0', borderRadius: '0.375rem' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                        {item.product_image && (\r\n                                            <img\r\n                                                src={item.product_image}\r\n                                                alt={item.product_name}\r\n                                                style={{\r\n                                                    width: '40px',\r\n                                                    height: '40px',\r\n                                                    objectFit: 'cover',\r\n                                                    borderRadius: '0.5rem',\r\n                                                    cursor: 'pointer',\r\n                                                    flexShrink: 0,\r\n                                                }}\r\n                                                onClick={() => setImagePreview(item.product_image)}\r\n                                            />\r\n                                        )}\r\n                                        <div>\r\n                                            <span style={{ fontWeight: 600, color: '#1e293b' }}>{item.quantity}x</span>\r\n                                            <span style={{ color: '#475569', marginLeft: '0.5rem' }}>{item.product_name}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => removeBulkItem(item.product_id)}\r\n                                        className=\"btn\"\r\n                                        style={{\r\n                                            backgroundColor: '#fee2e2',\r\n                                            color: '#991b1b',\r\n                                            border: 'none',\r\n                                            fontSize: '0.75rem',\r\n                                            padding: '0.35rem 0.75rem',\r\n                                            width: 'auto',\r\n                                            minWidth: 'auto'\r\n                                        }}\r\n                                    >\r\n                                        Remove\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Image Preview Modal */}\r\n                {imagePreview && (\r\n                    <div\r\n                        style={{\r\n                            position: 'fixed',\r\n                            inset: 0,\r\n                            backgroundColor: 'rgba(0,0,0,0.6)',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            zIndex: 1100,\r\n                        }}\r\n                        onClick={() => setImagePreview('')}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                backgroundColor: '#fff',\r\n                                padding: '1rem',\r\n                                borderRadius: '0.75rem',\r\n                                maxWidth: '90vw',\r\n                                maxHeight: '90vh',\r\n                                boxShadow: 'var(--shadow-lg)',\r\n                            }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <img\r\n                                src={imagePreview}\r\n                                alt=\"Product image\"\r\n                                style={{ maxWidth: '80vw', maxHeight: '80vh', objectFit: 'contain', display: 'block' }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit} disabled={bulkItems.length === 0} style={{ width: '100%', opacity: bulkItems.length === 0 ? 0.5 : 1, cursor: bulkItems.length === 0 ? 'not-allowed' : 'pointer' }}>\r\n                    Complete {transactionType === 'CHECKOUT' ? 'Checkout' : 'Return'} ({bulkItems.length} items)\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}