{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/inventory-app/app/login/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function LoginPage() {\r\n    const [studentId, setStudentId] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [role, setRole] = useState('member');\r\n    const [adminPassword, setAdminPassword] = useState('');\r\n    const [memberPassword, setMemberPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const router = useRouter();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        // Validate inputs\r\n        if (role === 'admin' && name !== 'Jaswanth') {\r\n            setError('Admin name must be \"Jaswanth\"');\r\n            return;\r\n        }\r\n\r\n        if (role === 'admin' && !adminPassword) {\r\n            setError('Admin password is required');\r\n            return;\r\n        }\r\n\r\n        if (role === 'member' && !memberPassword) {\r\n            setError('Member password is required');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/auth', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ \r\n                    student_id: studentId, \r\n                    name, \r\n                    role, \r\n                    admin_password: adminPassword,\r\n                    member_password: memberPassword \r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const user = await res.json();\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n                window.location.href = '/';\r\n            } else {\r\n                const data = await res.json();\r\n                setError(data.error || 'Login failed');\r\n            }\r\n        } catch (err) {\r\n            setError('An error occurred');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\" style={{ \r\n            display: 'flex', \r\n            justifyContent: 'center', \r\n            alignItems: 'center', \r\n            minHeight: 'calc(100vh - 80px)',\r\n            padding: '1rem'\r\n        }}>\r\n            <div className=\"card\" style={{ \r\n                width: '100%', \r\n                maxWidth: '450px',\r\n                margin: '0 auto',\r\n                padding: '1.5rem',\r\n                boxSizing: 'border-box'\r\n            }}>\r\n                <div style={{ \r\n                    textAlign: 'center', \r\n                    marginBottom: '1.5rem',\r\n                    wordWrap: 'break-word',\r\n                    overflowWrap: 'break-word'\r\n                }}>\r\n                    <h1 className=\"text-2xl font-bold mb-2\">Inventory Management</h1>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div style={{\r\n                        backgroundColor: '#fee2e2',\r\n                        border: '1px solid #fca5a5',\r\n                        color: 'var(--danger)',\r\n                        padding: '0.75rem 1rem',\r\n                        borderRadius: 'var(--radius)',\r\n                        marginBottom: '1rem',\r\n                        fontSize: '0.875rem'\r\n                    }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleLogin} style={{ display: 'grid', gap: '1rem' }}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"role\" className=\"text-sm font-medium\" style={{ display: 'block', marginBottom: '0.5rem' }}>Role</label>\r\n                        <select\r\n                            id=\"role\"\r\n                            className=\"input\"\r\n                            value={role}\r\n                            onChange={(e) => {\r\n                                setRole(e.target.value);\r\n                                setAdminPassword('');\r\n                                setMemberPassword('');\r\n                            }}\r\n                        >\r\n                            <option value=\"member\">Member</option>\r\n                            <option value=\"admin\">Admin</option>\r\n                        </select>\r\n                        \r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"name\" className=\"text-sm font-medium\" style={{ display: 'block', marginBottom: '0.5rem' }}>Name</label>\r\n                        <input\r\n                            id=\"name\"\r\n                            type=\"text\"\r\n                            className=\"input\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            required\r\n                            placeholder=\"Enter your full name\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"studentId\" className=\"text-sm font-medium\" style={{ display: 'block', marginBottom: '0.5rem' }}>Registered Number</label>\r\n                        <input\r\n                            id=\"studentId\"\r\n                            type=\"text\"\r\n                            className=\"input\"\r\n                            value={studentId}\r\n                            onChange={(e) => setStudentId(e.target.value)}\r\n                            required\r\n                            placeholder=\"Enter your Registered Number\"\r\n                        />\r\n                    </div>\r\n\r\n                    {role === 'member' && (\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"memberPassword\" className=\"text-sm font-medium\">Password</label>\r\n                            <input\r\n                                id=\"memberPassword\"\r\n                                type=\"password\"\r\n                                className=\"input\"\r\n                                value={memberPassword}\r\n                                onChange={(e) => setMemberPassword(e.target.value)}\r\n                                placeholder=\"Enter your password\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {role === 'admin' && (\r\n                        <>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"adminPassword\" className=\"text-sm font-medium\">Password</label>\r\n                                <input\r\n                                    id=\"adminPassword\"\r\n                                    type=\"password\"\r\n                                    className=\"input\"\r\n                                    value={adminPassword}\r\n                                    onChange={(e) => setAdminPassword(e.target.value)}\r\n                                    placeholder=\"Enter your password\"\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    )}\r\n\r\n                    <button type=\"submit\" className=\"btn btn-primary\" style={{ marginTop: '0.5rem' }}>\r\n                        Login\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}